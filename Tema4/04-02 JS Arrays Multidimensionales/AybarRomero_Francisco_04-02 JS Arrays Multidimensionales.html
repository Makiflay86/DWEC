<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AybarRomero_Francisco_04-02 JS Arrays Multidimensionales.html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        
        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                1º Copia este codigo para crear un array multidimensional y 
                añádele un código para mostrar solo los nombres en una lista ordenada
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <script>
                    var datos = new Array();
                    datos[0] = new Array("Cristina","Seguridad",24);
                    datos[1] = new Array("Catalina","Bases de Datos",17);
                    datos[2] = new Array("Vieites","Sistemas Informáticos",28);
                    datos[3] = new Array("Benjamin","Redes",26);

                    document.writeln("<ol>");
                    for(let i = 0; i < datos.length; i++)
                    {
                        document.writeln(`<li>${datos[i][0]}</li>`);
                    }
                    document.writeln("</ol>");
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                2º Escribe un programa que genere al azar 20 números 
                enteros comprendidos entre 0 y 9. Estos números se deben 
                introducir en un array de 4 filas por 5 columnas.
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej2"></div>
                <script>
                    function numero_random() 
                    {
                        return Math.round(Math.random() * 9);
                    }


                    let array1 = [];
                    for (let i = 0; i < 4; i++) 
                    {
                        let fila = [];
                        for (let j = 0; j < 5; j++) 
                        {
                            fila.push(numero_random());
                        }
                        array1.push(fila);
                    }

                    
                    let contenedor = document.getElementById("ej2");
                    let tabla = "<table class='table table-bordered table-warning'>";

                    for (let i = 0; i < array1.length; i++) 
                    {
                        tabla += "<tr>";
                        for (let j = 0; j < array1[i].length; j++) 
                        {
                            tabla += "<td>" + array1[i][j] + "</td>";
                        }
                        tabla += "</tr>";
                    }
                    tabla += "</table>";
                    contenedor.innerHTML = tabla;
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                3º Crea un array bidimensional que te calcule las tablas 
                de multiplicar del 1 al 100.
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej3-container" class="border border-black rounded" style="height: 500px;">
                    <iframe id="ej3-frame" style="width: 100%; height: 100%;"></iframe>
                </div>

                <script>
                    let array1_ej3 = [];

                    for (let i = 1; i <= 100; i++) 
                    {
                        array1_ej3[i] = [];
                        for (let j = 1; j <= 100; j++) 
                        {
                            array1_ej3[i][j] = i * j;
                        }
                    }


                    let tabla_ej3 = "<style>table{border-collapse:collapse;width:max-content;}td{padding:4px;border:1px solid #0000ff;}</style>";
                    tabla_ej3 += "<table class='table table-bordered'>";
                    for (let i = 1; i <= 100; i++) 
                    {
                        tabla_ej3 += "<tr>";
                        for (let j = 1; j <= 100; j++) 
                        {
                            tabla_ej3 += "<td>" + array1_ej3[i][j] + "</td>";
                        }
                        tabla_ej3 += "</tr>";
                    }
                    tabla_ej3 += "</table>";


                    let iframe = document.getElementById("ej3-frame");
                    let doc = iframe.contentDocument || iframe.contentWindow.document;
                    doc.open();
                    doc.write(tabla_ej3);
                    doc.close();
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                4º Modifica el anterior ejercicio para aplicar una 
                función map que te sume 2 a cada valor
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej4-container" class="border border-black rounded" style="height: 500px;">
                    <iframe id="ej4-frame" src="about:blank" style="width: 100%; height: 100%; "></iframe>
                </div>

                <script>
                    let array1_ej4 = [];

                    for (let i = 0; i <= 99; i++) 
                    {
                        array1_ej4[i] = [];
                        for (let j = 0; j <= 99; j++) 
                        {
                            if (i === 0 || j === 0) 
                            {
                                array1_ej4[i][j] = 0;

                            } else 
                            {    
                                array1_ej4[i][j] = i * j;
                            }
                        }
                    }


                    let array_modificado = array1_ej4.map(fila =>
                        fila.map(valor => valor + 2)
                    );


                    let tabla_ej4 = "<style>table{border-collapse:collapse;width:max-content;}td{padding:4px;border:1px solid #0000ff;}</style>";
                    tabla_ej4 += "<table class='table table-bordered'>";
                    for (let i = 0; i <= 99; i++) 
                    {
                        tabla_ej4 += "<tr>";
                        for (let j = 0; j <= 99; j++) 
                        {
                            tabla_ej4 += "<td>" + array_modificado[i][j] + "</td>";
                        }
                        tabla_ej4 += "</tr>";
                    }
                    tabla_ej4 += "</table>";


                    let iframe_ej4 = document.getElementById("ej4-frame");
                    let doc_ej4 = iframe_ej4.contentDocument || iframe_ej4.contentWindow.document;
                    doc_ej4.open();
                    doc_ej4.write(tabla_ej4);
                    doc_ej4.close();
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                5º Modifica el anterior ejercicio para que te calcule la tabla de 
                multiplicar tridimensional i*j*k en una estructura de array
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej5-container" style="height: 265px;">
                    <iframe id="ej5-frame" src="about:blank" style="width: 100%; height: 100%;"></iframe>
                </div>

                <script>
                    let array_tridimensional = [];
                    const size = 100; 

                    for (let i = 0; i < size; i++) 
                    {
                        array_tridimensional[i] = [];
                        for (let j = 0; j < size; j++) 
                        {
                            array_tridimensional[i][j] = []; 
                            for (let k = 0; k < size; k++) 
                            {
                                let valor_i = i + 1;
                                let valor_j = j + 1;
                                let valor_k = k + 1;
                                
                                array_tridimensional[i][j][k] = valor_i * valor_j * valor_k;
                            }
                        }
                    }


                    let tabla_ej5 = "<style>";

                    tabla_ej5 += "table{border-collapse:collapse; width:max-content; margin: 0 auto;}"; 
                    
                    tabla_ej5 += "td{padding:4px; border:1px solid #0000ff; text-align:center;}"; 
                    tabla_ej5 += "h2{text-align:center;}";
                    tabla_ej5 += "</style>";;

                    tabla_ej5 += "<h2>Capa 1 (Tabla del 1)</h2>";
                    tabla_ej5 += "<table class='table table-bordered w-auto mx-auto text-center'>";
                    
                    
                    const display_size = 7; 
                    const capa_a_mostrar = 0; 
                    
                    for (let j = 0; j < display_size; j++) 
                    {
                        tabla_ej5 += "<tr>";
                        for (let k = 0; k < display_size; k++) 
                        {
                           
                            tabla_ej5 += "<td>" + array_tridimensional[capa_a_mostrar][j][k] + "</td>";
                        }
                        tabla_ej5 += "</tr>";
                    }
                    tabla_ej5 += "</table>";

                    let iframe_ej5 = document.getElementById("ej5-frame");
                    let doc_ej5 = iframe_ej5.contentDocument || iframe_ej5.contentWindow.document;
                    doc_ej5.open();
                    doc_ej5.write(tabla_ej5);
                    doc_ej5.close();
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                6º Crea un array multidimensional para almacenar esta tabla.
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej_6">Ok</div>
                <script>
                    var datos = 
                    [
                        [1, 'Madrid',3334730,3273049,2882860,3120732,3188297,3146071,'Comunidad de Madrid'],
                        [2, 'Barcelona',1664182,1619337,1496266,1707286,1754900,1745142,'Cataluña'],
                        [3, 'Valencia',800215,809267,739014,758738,751734,653690,'Comunidad Valenciana'],
                        [4, 'Sevilla',691395,704198,700716,678218,653833,548072,'Andalucía'],
                        [5, 'Zaragoza',681877,675121,604631,592686,590750,479845,'Aragón'],
                        [6, 'Málaga',578460,568507,531565,560495,503251,374452,'Andalucía'],
                        [7, 'Murcia',459403,441345,357166,322911,288631,243759,'Región de Murcia'],
                        [8, 'Palma',422587,404681,333925,325120,304422,234098,'Islas Baleares'],
                        [9, 'Las Palmas de Gran Canaria',381223,383308,358518,373846,366454,287038,'Canarias'],
                        [10, 'Bilbao',350184,353187,354271,383798,433030,410490,'País Vasco'],
                        [11, 'Alicante',337482,334418,276886,267485,251387,184716,'Comunidad Valenciana'],
                        [12, 'Córdoba',326039,328547,313463,307275,284737,235632,'Andalucía'],
                        [13, 'Valladolid',299265,315522,319129,333680,330242,236341,'Castilla y León'],
                        [14, 'Vigo',296692,297124,285526,279986,258724,197144,'Galicia'],
                        [15, 'Gijón',271717,277198,267426,264948,255969,187612,'Principado de Asturias'],
                        [16, 'Hospitalet de Llobregat',269382,258642,241782,276198,294033,241978,'Cataluña'],
                        [17, 'Vitoria',253996,238247,217358,209506,192773,136873,'País Vasco'],
                        [18, 'La Coruña',247604,246047,241769,256579,232356,189654,'Galicia'],
                        [19, 'Elche',234765,230822,195791,184912,162873,122663,'Comunidad Valenciana'],
                        [20, 'Granada',233648,239154,244486,268674,262182,190429,'Andalucía'],
                        [21, 'Tarrasa',223627,212724,171794,161682,155360,138697,'Cataluña'],
                        [22, 'Badalona',223166,218886,208944,225207,227744,162888,'Cataluña'],
                        [23, 'Oviedo',219910,225155,200411,194637,190123,154117,'Principado de Asturias'],
                        [24, 'Cartagena',216108,214165,179939,175966,172751,146904,'Región de Murcia'],
                        [25, 'Sabadell',216520,207338,183727,192142,184943,159408,'Cataluña'],
                        [26, 'Jerez de la Frontera',213105,208896,183677,186812,176238,149867,'Andalucía'],
                        [27, 'Móstoles',210309,206015,196289,189707,149649,17836,'Comunidad de Madrid'],
                        [28, 'Santa Cruz de Tenerife',209194,222643,215132,222892,190784,151361,'Canarias'],
                        [29, 'Pamplona',203944,197488,182666,183525,183126,147168,'Navarra'],
                        [30, 'Almería',201322,190013,168945,161566,140946,114510,'Andalucía'],
                        [31, 'Alcalá de Henares',197562,204120,166397,155548,142862,59783,'Comunidad de Madrid'],
                        [32, 'Fuenlabrada',194514,198973,173788,141496,77626,7327,'Comunidad de Madrid'],
                        [33, 'Leganés',191114,187227,172049,172729,163426,57537,'Comunidad de Madrid'],
                        [34, 'San Sebastián',188240,185506,180277,183944,175576,165829,'País Vasco'],
                        [35, 'Getafe',185180,169130,146310,139068,127060,69424,'Comunidad de Madrid'],
                        [36, 'Burgos',176418,178574,163358,163507,156449,119915,'Castilla y León'],
                        [37, 'Albacete',174336,170475,149667,129002,117126,93233,'Castilla-La Mancha'],
                        [38, 'Castellón de la Plana',174264,180690,142285,135863,126464,93968,'Comunidad Valenciana'],
                        [39, 'Santander',173375,181589,184264,194221,180328,149704,'Cantabria'],
                        [40, 'Alcorcón',172384,168299,144636,141080,140657,46048,'Comunidad de Madrid'],
                        [41, 'San Cristóbal de la Laguna',158911,152222,126543,118548,112635,79963,'Canarias'],
                        [42, 'Logroño',152485,152650,128493,121911,110980,84456,'La Rioja'],
                        [43, 'Badajoz',150984,150376,136136,126781,114361,101710,'Extremadura'],
                        [44, 'Marbella',147633,136322,105910,81876,67822,33203,'Andalucía'],
                        [45, 'Salamanca',144825,154462,158556,162037,167131,125220,'Castilla y León'],
                        [46, 'Huelva',143837,149310,140985,141002,127806,96689,'Andalucía'],
                        [47, 'Lérida',140403,137387,112194,111825,109573,90884,'Cataluña'],
                        [48, 'Tarragona',136496,140184,114097,112360,111689,78238,'Cataluña'],
                        [49, 'Dos Hermanas',135050,125086,97324,72717,57357,39387,'Andalucía'],
                        [50, 'Parla',133482,120182,74203,69017,55933,10213,'Comunidad de Madrid'],
                        [51, 'Torrejón de Ardoz',132853,118441,94161,86678,75398,21117,'Comunidad de Madrid'],
                        [52, 'Mataró',129661,122905,104659,101510,96467,73129,'Cataluña'],
                        [53, 'León',124028,134012,138006,137758,131134,105235,'Castilla y León'],
                        [54, 'Algeciras',123078,116417,104087,101256,86042,81662,'Andalucía'],
                        [55, 'Santa Coloma de Gramanet',120443,120060,117127,135486,140588,106711,'Cataluña'],
                        [56, 'Alcobendas',118417,110080,89612,78295,63507,25000,'Comunidad de Madrid'],
                        [57, 'Cádiz',115439,125826,140061,156903,157766,135743,'Andalucía'],
                        [58, 'Jaén',112757,116790,110781,109338,96429,78156,'Andalucía'],
                        [59, 'Reus',106168,106622,89179,86407,80710,59095,'Cataluña'],
                        [60, 'Orense',105643,108673,108647,109283,96085,73379,'Galicia'],
                        [61, 'Telde',102791,100900,88110,78978,63441,44667,'Canarias'],
                        [62, 'Baracaldo',101486,99321,97280,111672,117422,108757,'País Vasco'],
                    ];
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                7º Haz una función que recorra el array calculando la media 
                por años y lo muestre.
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej_7"></div>
                <script>
                    let output_ej7 = document.getElementById("ej_7");
                    let resultados_media = []; 
                    const NUM_AÑOS = 6;
                    const COLUMNA_INICIO = 2; 


                    /* Calcular la media de años */
                    function mediaYear()
                    {
                        for (let i = 0; i < datos.length; i++) {
                            let fila = datos[i];
                            let nombre_ciudad = fila[1];
                            let suma_poblacion = 0;
                            
                            
                            for (let j = COLUMNA_INICIO; j < COLUMNA_INICIO + NUM_AÑOS; j++) 
                            {
                                suma_poblacion += fila[j];
                            }
                            
                            
                            let media = Math.round(suma_poblacion / NUM_AÑOS);
                            
                            
                            resultados_media.push({
                                ciudad: nombre_ciudad,
                                media: media
                            });
                        }
                    }


                    /* Mostrar el resultado en el contenedor */
                    function mostrar_ej7()
                    {
                        let html_output = "<h2 class='text-center mb-3'>Media Anual de Población por Ciudad</h2>";
                        html_output += "<table class='table table-striped table-bordered'>";
                        html_output += "<thead class='table-dark'><tr><th>Ciudad</th><th>Media de Población (6 años)</th></tr></thead><tbody>";
                        
                        
                        for (let i = 0; i < resultados_media.length; i++) 
                        {
                            let resultado = resultados_media[i];
                        
                            let media_formateada = resultado.media.toLocaleString('es-ES'); 
                            
                            html_output += "<tr>";
                            html_output += "<td>" + resultado.ciudad + "</td>";
                            html_output += "<td>" + media_formateada + "</td>";
                            html_output += "</tr>";
                        }
                        
                        html_output += "</tbody></table>";
                        
                        output_ej7.innerHTML = html_output;
                    }

                    
                    mediaYear();
                    mostrar_ej7();
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center">
                8º función mostrartabla(tabla,id)  que tome el array y devuelva 
                el código html para dibujarla como una tabla.
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <div id="ej_8"></div>
                <script>
                    function mostrarTabla(tabla, id)
                    {
                        let contenedor = document.getElementById(id);
                        let html_output = "";
                        
                        html_output += "<table class='table table-striped table-bordered table-sm'>";
                        
                        html_output += "<thead class='table-dark'><tr>";
                            
                        html_output += "<th>#</th>";
                        html_output += "<th>Nombre Población</th>";
                        html_output += "<th>2020</th>";
                        html_output += "<th>2010</th>";
                        html_output += "<th>2000</th>";
                        html_output += "<th>1990</th>";
                        html_output += "<th>1981</th>";
                        html_output += "<th>1970</th>";
                        html_output += "<th>Comunidad autónoma</th>";

                        html_output += "</tr></thead>";
                        
                        for (let i = 0; i < tabla.length; i++) 
                        { 
                            let fila = tabla[i];
                            
                            html_output += "<tbody><tr>";
                            for (let j = 0; j < fila.length; j++) 
                            {
                                if (typeof fila[j] === 'number') 
                                { 
                                    let valor_formateado = fila[j].toLocaleString('es-ES');
                                    html_output += "<td class='text-end'>" + valor_formateado + "</td>";

                                } else 
                                {
                                    html_output += "<td>" + fila[j] + "</td>";
                                }
                            }
                            html_output += "</tr></tbody>";
                        }
                        
                        html_output += "</table>";
                        contenedor.innerHTML = html_output;
                    }


                    mostrarTabla(datos, "ej_8");
                </script>
            </article>
        </section>



        <section class="bg-info-subtle my-5 p-5 border border-info rounded shadow">
            <h1 class="text-center"><!-- DIFICIL -->
                9º Crear una función en JavaScript que resuelva un sistema de 
                ecuaciones lineales representado por matrices. Para un sistema 
                de ecuaciones Ax=B Ax=B, donde A es una matriz 3x3 y B es una 
                matriz 3x1 puedes usar el método de inversión de matrices si A 
                es invertible. Aquí hay una función que puedes utilizar:
            </h1>
            <article class="bg-white mt-5 p-5 border border-black rounded shadow">
                <input type="text" size="5" name="x1" id="x1" value="5"> X +
                <input type="text" size="5" name="y1" id="y1" value="-1"> Y +
                <input type="text" size="5" name="z1" id="z1" value="3"> Z =
                <input type="text" size="5" name="v1" id="v1" value="2">
                
                <br>

                <input type="text" size="5" name="x2" id="x2" value="2"> X +
                <input type="text" size="5" name="y2" id="y2" value="-10"> Y +
                <input type="text" size="5" name="z2" id="z2" value="3"> Z =
                <input type="text" size="5" name="v2" id="v2" value="6">

                <br>

                <input type="text" size="5" name="x3" id="x3" value="3"> X +
                <input type="text" size="5" name="y3" id="y3" value="-1"> Y +
                <input type="text" size="5" name="z3" id="z3" value="7"> Z =
                <input type="text" size="5" name="v3" id="v3" value="2"><br><br>

                <input class="btn btn-primary" type="button" name="resolver" id="resolver" value="Resolver" onclick="crearArray()"><br><br>

                <h2 id="explica">Solución</h2>

                <script>
                    function crearArray()
                    {
                        let x1 = parseInt(document.getElementById("x1").value);
                        let y1 = parseInt(document.getElementById("y1").value);
                        let z1 = parseInt(document.getElementById("z1").value);
                        let v1 = parseInt(document.getElementById("v1").value);

                        let x2 = parseInt(document.getElementById("x2").value);
                        let y2 = parseInt(document.getElementById("y2").value);
                        let z2 = parseInt(document.getElementById("z2").value);
                        let v2 = parseInt(document.getElementById("v2").value);

                        let x3 = parseInt(document.getElementById("x3").value);
                        let y3 = parseInt(document.getElementById("y3").value);
                        let z3 = parseInt(document.getElementById("z3").value);
                        let v3 = parseInt(document.getElementById("v3").value);

                        let array1 = [[x1,y1,z1], [x2,y2,z2], [x3,y3,z3]];
                        let arrayX = [[v1,y1,z1], [v2,y2,z2], [v3,y3,z3]];
                        let arrayY = [[x1,v1,z1], [x2,v2,z2], [x3,v3,z3]];
                        let arrayZ = [[x1,y1,v1], [x2,y2,v2], [x3,y3,v3]];
                        
                        let det1 = crearDeterminante(array1);
                        let detX = crearDeterminante(arrayX);
                        let detY = crearDeterminante(arrayY);
                        let detZ = crearDeterminante(arrayZ);
                        
                        let solucionX = detX / det1;
                        let solucionY = detY / det1;
                        let solucionZ = detZ / det1;

                        document.getElementById("explica").innerHTML = `La solución es X = ${solucionX}<br> Y = ${solucionY}<br> Z = ${solucionZ}`
                    }

                    function crearDeterminante(a)
                    {
                        /* array a
                            a11 a12 a13
                            a21 a22 a23
                            a31 a32 a33
                        */

                        return  (a[0][0]*a[1][1]*a[2][2] + 
                                a[0][1]*a[1][2]*a[2][0] + 
                                a[0][2]*a[1][0]*a[2][1]) -

                                (a[0][0]*a[1][2]*a[2][1] + 
                                a[0][1]*a[1][0]*a[2][2] + 
                                a[0][2]*a[1][1]*a[2][0])
                    }
                </script>
            </article>
        </section>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script>
</body>
</html>